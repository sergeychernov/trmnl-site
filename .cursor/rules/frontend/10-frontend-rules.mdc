---
alwaysApply: true
---
## Правила Cursor — frontend

### Область
- App Router (`app/`) с приоритетом серверных компонентов.
- Клиентские компоненты помечать `use client` только при необходимости (состояние, эффекты, события).

### Стиль и архитектура
- Компоненты — маленькие и переиспользуемые; общий UI выносить по мере необходимости.
- Типизация пропсов — строго описывать интерфейс, избегать расширенных `any`/`unknown`.
- Импорты — через алиас `@/*`.

### Стили и UI
- Приоритет: MUI (Material UI) для всех пользовательских интерфейсов.
  - Использовать компоненты `@mui/material` (формы, навигация, поверхности, layout — `Box/Stack/Container/Grid`).
  - Цвета/типы/отступы настраивать через тему; для быстрых отступов допустим `sx`.
  - Tailwind v4 разрешён точечно для утилитарных классов, но не вместо MUI‑компонентов.
  - SSR MUI уже настроен (`AppRouterCacheProvider`), не убирать, чтобы избежать проблем гидратации.
- Доступность: aria-атрибуты, фокус-стили, контраст.
- Изображения — `next/image`, шрифты — `next/font`.

### Перформанс
- Максимум логики на сервере. На клиенте — только то, что необходимо.
- Мемоизация: `useMemo`/`useCallback` по профилю, не «всегда».
- Разделение кода: `next/dynamic` с `ssr: false` только при необходимости.

### Состояние и данные
- Локальное состояние React для UI. Запросы — через серверные роуты/handlers.
- Кэширование данных и ISR — осознанно, документировать стратегию.

### Тесты
- Визуальные/юнит-тесты по мере усложнения компонентов (инструменты — по договорённости).


